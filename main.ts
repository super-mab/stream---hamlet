namespace SpriteKind {
    export const Audience = SpriteKind.create()
}
/**
 * dad ----- claudius ðŸ¥¤
 * 
 * |
 * 
 * |
 * 
 * hamlet ðŸ‘€
 */
function king_claudius_goes_to_the_theatre () {
    story.queueStoryPart(function () {
        say_line(hamlet, "HORATIO! Thou art earing just a man as thou coped a conversation doused it all")
    })
    story.queueStoryPart(function () {
        story.spriteMoveToTile(king_claudius, tiles.getTileLocation(3, 6), 20)
    })
    story.queueStoryPart(function () {
        say_line(king_claudius, "How fair is our cousin Hamlet!")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "Excellent, I fair upon the chameleon's dish. How fare upon so!")
    })
    story.queueStoryPart(function () {
        say_line(king_claudius, "I have nothing to say wither Hamlet. These words are not mine.")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "No, nor mine now")
    })
    story.queueStoryPart(function () {
        story.spriteMoveToTile(hamlet, tiles.getTileLocation(1, 5), 100)
    })
    story.queueStoryPart(function () {
        face(hamlet, "right")
        say_line(hamlet, "My lord, you played onest in the university, you say?")
    })
    story.queueStoryPart(function () {
        say_line(polonius, "That did I, my lord. And was accounted a good actor")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "What did you enact?")
    })
    story.queueStoryPart(function () {
        say_line(polonius, "I did enact Julius Ceasar. And I did a good one. Someone killed me")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "It was Brute part of him to catch so capital a cat. Are the players ready?")
    })
    story.queueStoryPart(function () {
        say_line(rosencrantz, "Aye, my lord. They stay upon your patience")
    })
    story.queueStoryPart(function () {
        say_line(gertrude, "Come hither, my dear Hamlet! Sit by me")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "No, my good mother! Here is methermore attractive")
    })
    story.queueStoryPart(function () {
        face(king_claudius, "right")
        face(guildenstern, "right")
        face(rosencrantz, "right")
        face(ophelia, "right")
        face(hamlet, "right")
        face(horatio, "right")
        face(polonius, "right")
        story.spriteMoveToTile(king_claudius, tiles.getTileLocation(13, 6), 20)
        story.spriteMoveToTile(guildenstern, tiles.getTileLocation(11, 6), 20)
        story.spriteMoveToTile(rosencrantz, tiles.getTileLocation(10, 6), 20)
        story.spriteMoveToTile(ophelia, tiles.getTileLocation(13, 7), 20)
        story.spriteMoveToTile(hamlet, tiles.getTileLocation(12, 7), 20)
        story.spriteMoveToTile(horatio, tiles.getTileLocation(11, 7), 20)
        story.spriteMoveToTile(polonius, tiles.getTileLocation(10, 7), 20)
    })
}
function face (actor: Sprite, direction: string) {
    if (direction != sprites.readDataString(actor, "facing")) {
        actor.image.flipX()
    }
    sprites.setDataString(actor, "facing", direction)
}
function king_claudius_reacts_to_the_play () {
    story.queueStoryPart(function () {
        say_line(king_claudius, "Oh, that how not be theeith!")
    })
    story.queueStoryPart(function () {
        say_line(king_claudius, "What stunning unrealisticnism!")
    })
    story.queueStoryPart(function () {
        say_line(king_claudius, "I will not sit for this!")
    })
    story.queueStoryPart(function () {
        face(king_claudius, "left")
        story.spriteMoveToTile(king_claudius, tiles.getTileLocation(8, 7), 100)
    })
    story.queueStoryPart(function () {
        king_claudius.setFlag(SpriteFlag.Invisible, true)
    })
    story.queueStoryPart(function () {
        face(hamlet, "left")
        story.spriteMoveToTile(hamlet, tiles.getTileLocation(4, 6), 100)
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "YESTH! For I have prevailed. These players, they thought that just because they were on the stage, that they were players.")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "But none play as well as I, HAMLET!")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "I do regret making a verbal agreement to that ghost, for if that ghost had seen my mother's reaction, then it would want to kill her too!")
    })
    story.queueStoryPart(function () {
        say_line(hamlet, "NIROOOOO!")
    })
    story.queueStoryPart(function () {
        curtain_Up(false)
    })
    story.queueStoryPart(function () {
        the_End()
    })
}
function the_play_is_going () {
    story.queueStoryPart(function () {
        fake_king.setFlag(SpriteFlag.Invisible, false)
        fake_queen.setFlag(SpriteFlag.Invisible, false)
        face(fake_queen, "left")
        face(fake_king, "left")
        story.spriteMoveToTile(fake_king, tiles.getTileLocation(10, 3), 20)
        story.spriteMoveToTile(fake_queen, tiles.getTileLocation(11, 3), 20)
    })
    story.queueStoryPart(function () {
        face(fake_king, "right")
        say_line(fake_king, "AH! POlonious's cart sure doth runneth quickly. It has been 30 laps since I've entered this world")
    })
    story.queueStoryPart(function () {
        say_line(fake_king, "Would you be married again if I should fall off the cart?")
    })
    story.queueStoryPart(function () {
        say_line(fake_queen, "NAY! For I will be accudethed of your fall! I shall NEVER remarry, nor will I look again")
    })
    story.queueStoryPart(function () {
        say_line(fake_king, "Oh I do wish that one could spectate the stage of life after death, for I would like to see your scene.")
    })
    story.queueStoryPart(function () {
        say_line(fake_queen, "BAH!")
    })
    story.queueStoryPart(function () {
        face(fake_queen, "right")
        story.spriteMoveToTile(fake_queen, tiles.getTileLocation(15, 3), 20)
    })
    story.queueStoryPart(function () {
        fake_queen.setFlag(SpriteFlag.Invisible, true)
    })
    story.queueStoryPart(function () {
        say_line(fake_king, "Wellst, it is time for a nightcap. I'm glad I fall asleep quickly.")
    })
    story.queueStoryPart(function () {
        say_line(fake_king, "zzzZZZzzZZzz")
    })
    story.queueStoryPart(function () {
        fake_king_stabber.setFlag(SpriteFlag.Invisible, false)
        story.spriteMoveToTile(fake_king_stabber, tiles.getTileLocation(11, 3), 70)
    })
    story.queueStoryPart(function () {
        say_line(fake_king_stabber, "I STABBETH THY!")
    })
    story.queueStoryPart(function () {
        say_line(fake_king, "AYE, for I have been stabbed!")
    })
    story.queueStoryPart(function () {
        audience_reacts()
        say_line(hamlet, "wormwood, wormwood...")
    })
}
function audience_reacts () {
    for (let value of sprites.allOfKind(SpriteKind.Audience)) {
        if (Math.percentChance(50)) {
            animation.runMovementAnimation(
            value,
            "v -5 v 5 v -2 v 2 v -3 v 3",
            1000,
            false
            )
        } else {
            animation.runMovementAnimation(
            value,
            "v -2 v 2 v -5 v 5 v -3 v 3 v -1 v 1",
            1000,
            false
            )
        }
    }
}
function the_End () {
    story.queueStoryPart(function () {
        the_end = sprites.create(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ........................................................111.......................................................................22222.........................
            .....................................................1111111.................................................................22222222222........................
            ....................................................11111111...............................................................222222222222222......................
            ..................................1111..............11111111..............................................................222222222222222222....................
            ................................111111..............11111111..........................11111..............................22222222222222222222...................
            ................................1111111...............111111.........................111111111...........................222222222222222222222..................
            ................................1111111...............111111.......................11111111111..........................22222222222222222222222.................
            ................................1111111......111.......11111......................111111111111..........................222222222222222222222222................
            ...................................1111......111.......111111..111111............111111....111..........................222222211111111222222222................
            ...................................11111.....1111222222111111111111111..........111111.....111..........................2222211111111111112222222...............
            ....................................11111111111112222221111111111111111.........11111......111.........................22222211111111111112222222...............
            ....................................1111111111111222222111111111111111122.......1111......1111.........................222222111122221111112222222..............
            ...................................1111111111111222222211111111222211112222222.1111.......1111........................22222211112222222111122222222.............
            .................................11111111112222222222221111111122222111222222221111....1111111........................222222111122222222111222222222............
            .............................1111111111112222222222222211111112222221111222222211111111111111.........................222222111222222222111122222222............
            ............................1111111111111122222222222221111111222222111122222221111111111111.........................22222221112222222221111122222222...........
            ...........................211111112211111222222222222221111112222222111222222211111111112222......................22222222211122222222221111222222222..........
            ..........................2211112222211111222222222222221111111222222111222222211112222222222222.................22222222222111222222222221112222222222.........
            ........................2222211122222111112222222222222211111112222221112222222111122222222222222222222.......22222222222222111122222222221112222222222.........
            .......................222222111222222111112222222222222211111122222211112222221111222222222211112222222222222222222222222221111222222222211122222222222........
            ......................2222222222222222111112222211122222211111122222211112222221111122222222211112222222222222222222222222221111222222222211122222222222........
            ......................22222222222222221111122222111222222111111122222111122222221111222222222111122222222222222211111222222221112222222222111222222222222.......
            .....................2222222222222222211111122221112222221111111222222111222222221111222222221111222222222222221111112222222222222222222221112222222222222......
            ....................22222222222222222211111122221112222222111111222222111122222221111122222111111222222222222221111111222222222222222222221112222222222222......
            ....................22222222222222222221111122221112222222111111222222111111122221111111211111112222222222222221111111222222222222222222221112222222222222......
            ....................222222222222222222211111222211122222221111112222221111111222221111111111111222222222222222211111111222222222222222222211122222222222222.....
            ...................2222222222222222222221111122111122222221111112222222111111222222111111111112222222222222222222211111222222222222222222211122222222222222.....
            ...................2222222222222222222222111111111122222222111112222222211122222222221111111222222222222222222222211111222222222222222222211122222222222222.....
            ...................2222222222222222222222111111111122222222111112222222222222222222222222222222222222222222222222211111122222222222222222111122222222222222.....
            ...................2222222222222222222222211111111222222222111112222222222222222222222222222222222222222222222222221111122222222222222211111122222222222222.....
            ...................22222222222222222222222221111112222222221111222222222222222222222222222222222222222222222222222211111222222222222221111112222222222222222....
            ...................22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111122222222222111111122222222222222222....
            ...................22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222211111122222222211111111222222222222222222....
            ...................22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111122222222211111122222222222222222222....
            ...................22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111112222222211112222222222222222222222....
            ...................22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222221111112222222211122222222222222222222222....
            ...................222222222222222222222222222222222222222222222222222222222222222222222221111111222222222222111111111111112222222111222222222222222222222222...
            ...................222222222222222222222222222222222222222222222222222222222222222222222211111111111222222222111111111111112222222111122222222222222222222222...
            ....................22222222222222222222222222222222222222222222222222222222222222221111111111111111122222221111111111111111222222111112222222222222222222222...
            ....................22222222222222222222222222222222222222222222222222222222222222211111111122211111112222221111222211111111222222211111122222222222222222222...
            ....................22222222222222222222222222222222222222222221111111111112222222211111111122222211112222221112222221111111122222221111112222.22222222222222...
            .....................222222222222222222222222222222222222222221111111111111122222221111111122222222111122222111222222221111112222222211111222...2222222222222...
            .....................222222222222222222222222222222222222222211111111111111112222222221111122222222111112222111222222221111112222222221111222..22222222222222...
            ......................22222222222222222222222222222222222222111111222211111112222222221111222222222211112222111222222221111112222222222111222..22222222222222...
            ......................22222222222222222222222222222222222222111112222221111112222222221111222222222221111222111222222222111112222222222222222..22222222222222...
            .......................2222222222222222222222222222222222221111122221111111112222222222111222222222221111122111222222222111111222222222222222..22222222222222...
            ........................2222222222222222222222222222222222211112111111111111122222222221112222222222221111221111222222221111112222222222211111122222222222222...
            .........................22222222222222222222222222222222221111111111111111112222222222111222222222222111122111122222222211111222222222211111111222222222222....
            ..........................2222222222222222222222222222222221111111111111111122222222222111222222222222211112211112222222211111222222222211111111122222222222....
            ..............eeeeeeeeee..ee22222222222222222222222222222221111111111112222222222222222111122222222222211112211112222222221111222222222211111111122222222222....
            ............eeeeeeeeeeeeeeee222222222222222222222222222222211111222222222222222222222221111222222222222211122211112222222211112222222222111111111222222222......
            ............eeeeeeeeeeeeeeeee222222222222222222222222.....111122222222222222222222222222111222222222222211122211112222222211111222222222111111111...............
            ............eeeeeeeeeeeeeeeeeee222222222222222222222......1111...22222222222222222222222111222222222222211112221111222222211111122222222111111111...............
            ............eeeeeeeeeeeeeeeeeeeee222222222222222222.......1111......22222222222222222222111122222222222211112221111122222211111111122222111111111...............
            ............eeeeeeeeeeeeeeeeeeeee22222222222222222........1111.........2222222211111122211112222222222222111222211111222221111111112222221111111................
            ............eeeeeeeeeeeeeeeeeeeeee2222222222222222........1111............222211111112222111222222222222211122221111122221111111111222222.......................
            ............eeeeeeeeeeeeeeeeeeeeeee222222222222222.........111..............221111111222211112222222222221112222211111111111122222222222........................
            .............eeeeeeeeeeeeeeeeeeeeee2222222222222222........1111...............11111122222111122222222222211112222211111111112222222222..........................
            ..............eeeeeeeeeeeeeeeeeeeeee222222222222222........11111.............1111111222221111222222222222111122222211111111122222222............................
            ...............eeeeeeeeeeeeeeeeeeeeee22222222222222.........11111............1111111......1112222222222222111122222222222222222.................................
            ...............eeeeeeeeeeeeeeeeeeeeee22222222222222.........111111..........1111111.......111...........221111222222222222......................................
            ................eeeeeeeeeeeeeeeeeeeeee2222222222222.........1111111........11111111.......111.............1111111...............................................
            .................eeeeeeeeeeeeeeeeeeeeee2222222222222.........11111111111.1111111111......11111...........11111111...............................................
            .................eeeeeeeeeeeeeeeeeeeeee2222222222222.........111111111111111111111......1111111.........111111111...............................................
            ..................eeeeeeeeeeeeeeeeeeeee2222222222222..........11111111111111111111......1111111.........11111...................................................
            ..................eeeeeeeeeeeeeeeeeeeeee2222222222222.........1111111111111111111.......1111111.........1111....................................................
            ...................eeeeeeeeeeeeeeeeeeeee2222222222222..........1111111111111111.................................................................................
            ...................eeeeeeeeeeeeeeeeeeeeee222222222222.............1111111111....................................................................................
            ...................eeeeeeeeeeeeeeeeeeeeee222222222222...........................................................................................................
            ....................eeeeeeeeeeeeeeeeeeeee222222222222...........................................................................................................
            ....................eeeeeeeeeeeeeeeeeeeeee22222222222...........................................................................................................
            ....................eeeeeeeeeeeeeeeeeeeeeee2222222222...........................................................................................................
            .....................eeeeeeeeeeeeeeeeeeeeee2222222222...........................................................................................................
            .....................eeeeeeeeeeeeeeeeeeeeee2222222222...........................................................................................................
            ......................eeeeeeeeeeeeeeeeeeeeee22222222............................................................................................................
            ......................eeeeeeeeeeeeeeeeeeeeee2222222.............................................................................................................
            ......................eeeeeeeeeeeeeeeeeeeeeee22222..............................................................................................................
            ......................eeeeeeeeeeeeeeeeeeeeeeee2.................................................................................................................
            ......................eeeeeeeeeeeeeeeeeeeeeee...................................................................................................................
            .......................eeeeeeeeeeeeeeeee........................................................................................................................
            ........................eeeeeeeeeeeee...........................................................................................................................
            ..........................eeee..................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `, SpriteKind.Player)
        the_end.z = 1000000
        pause(2000)
    })
    story.queueStoryPart(function () {
        story.printDialog("(not really there are still two more acts)", 80, 90, 50, 150)
    })
    story.queueStoryPart(function () {
        game.over(true)
    })
}
function filltheaudience () {
    for (let value of tiles.getTilesByType(assets.tile`tile4`)) {
        if (Math.percentChance(60)) {
            if (Math.percentChance(50)) {
                audience_mouse = sprites.create(img`
                    . d d d d d . . . . d d d d d . 
                    d d d d d d d . . d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    . d d d d d d d d d d d d d d . 
                    . . . d d d d d d d d d d . . . 
                    . . . . d d d d d d d d . . . . 
                    . . . . . d d d d d d . . . . . 
                    . . . . d d d d d d d d . . . . 
                    . . . d . d d d d d d . d . . . 
                    `, SpriteKind.Audience)
            } else {
                audience_mouse = sprites.create(img`
                    . . d d d . . . . . . d d d . . 
                    . d d d d d . . . . d d d d d . 
                    d d d d d d d . . d d d d d d d 
                    d d d d d d d . . d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    d d d d d d d d d d d d d d d d 
                    . d d d d d d d d d d d d d d . 
                    . . d d d d d d d d d d d d . . 
                    . . . . d d d d d d d d . . . . 
                    . . . d d d d d d d d d d . . . 
                    . . d . d d d d d d d d . d . . 
                    `, SpriteKind.Audience)
            }
            tiles.placeOnTile(audience_mouse, value)
            audience_mouse.y += -10
        }
    }
}
function curtain_Up (doWeWantToRaiseTheCurtain: boolean) {
    if (doWeWantToRaiseTheCurtain) {
        story.spriteMoveToLocation(curtain, 80, -40, 100)
    } else {
        story.spriteMoveToLocation(curtain, 80, 40, 100)
    }
}
function say_line (actor: Sprite, line: string) {
    counter = 1
    interjections = [
    "*cough*",
    "ahem",
    "uh",
    "err",
    "...."
    ]
    while (!(actor.overlapsWith(spotlight))) {
        pause(1)
        if (counter % 200 == 0) {
            story.spriteSayText(actor, interjections[randint(0, interjections.length - 1)])
        }
        counter += 1
    }
    story.spriteSayText(actor, line)
}
function places_everyone () {
    tiles.placeOnTile(king_claudius, tiles.getTileLocation(0, 6))
    tiles.placeOnTile(hamlet, tiles.getTileLocation(4, 6))
    tiles.placeOnTile(horatio, tiles.getTileLocation(4, 5))
    tiles.placeOnTile(rosencrantz, tiles.getTileLocation(6, 6))
    tiles.placeOnTile(guildenstern, tiles.getTileLocation(7, 6))
    tiles.placeOnTile(polonius, tiles.getTileLocation(2, 5))
    tiles.placeOnTile(gertrude, tiles.getTileLocation(12, 6))
    tiles.placeOnTile(fake_king, tiles.getTileLocation(15, 3))
    tiles.placeOnTile(fake_king_stabber, tiles.getTileLocation(15, 3))
    tiles.placeOnTile(fake_queen, tiles.getTileLocation(15, 3))
    fake_king.setFlag(SpriteFlag.Invisible, true)
    fake_king_stabber.setFlag(SpriteFlag.Invisible, true)
    fake_queen.setFlag(SpriteFlag.Invisible, true)
}
let interjections: string[] = []
let counter = 0
let audience_mouse: Sprite = null
let the_end: Sprite = null
let spotlight: Sprite = null
let ophelia: Sprite = null
let gertrude: Sprite = null
let guildenstern: Sprite = null
let rosencrantz: Sprite = null
let polonius: Sprite = null
let fake_king: Sprite = null
let fake_queen: Sprite = null
let fake_king_stabber: Sprite = null
let hamlet: Sprite = null
let horatio: Sprite = null
let king_claudius: Sprite = null
let curtain: Sprite = null
tiles.setTilemap(tilemap`level1`)
curtain = sprites.create(img`
    2222222222222222e222222e22222222222222222e22222222222222222222222222222e2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
    22222222222e2222e222222e222e2222222222222e22222222222222222222222222222e2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
    22222222222e2222e222222e222e2222222222222e22222222222222222222222222222e2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
    22222222222e2222e222222e222e2222222222222e22222222222222222222222222222e2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e22222222222222222222222222222e22222e22222222e2222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e22222222222222222222222222222e22222e22222222e2222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e22222222222222222222222222222e22222e22222222e2222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e22222222222222222222222222222e2222e222222222e2222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e22222222222222222222222222222e2222e222222222e2222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e22222222222222222222222222222e2222e222222222e2222222222222222222222222222222222222222222222222222222222222222222222222
    2222e22222e22222e222222e222e2222222222222e222222e2222222222222222222222e2222e222222222e22222222222222222222222222222222222e2222222222222222222222222222222222222
    2222e22222e222222222222e22222222222222222e222222e2222222222222222222222e2222e222222222e22222222222222222222222222222222222e2222222222222222222222222222222222222
    2222e22222e222222222222e22222222222222222222e222e2222222222222222222222e2222e222222222e22222222222222222222222222222222222e2222222222222222222222222222222222222
    2222e22222e222222222222222222222222222222222e222e2222222222222222222222e2222e222222222e22222222222222222222222222222222222e2222222222222222222222222222222222222
    2222e22222222222222222222222222222e222222222e222e2222222222222222222222e2222e222222222e22222222222222222222222222222222222e2222222222222222222222222222222222222
    2222e22222222222222222222222222222e222222222e222e22222222e2222222222222e2222e222222222e22222222222222222222222222222222222e22222e22222222e2222222222222222222222
    2222e22222222222222222222222222222e222222222e222e22222222e2222222222222e2222e222222222e22222222222222222222222222222222222e22222e22222222e2222222222222222222222
    2222e22222222222222222222222222222e222222222e222e22222222e2222222222222e2222e222222222222222222222222222222222222222222222e22222e22222222e22222e2222222222222222
    2222e22222222222222222222222222222e222222222e222e22222222e2222222222222e2222e22222222222222222222222222222222e222222222222e2222e222222222e22222e2222222222222222
    2222e2222222222222222222222e222222e222222222e222e22222222e2222222222222e2222e22222222222222222222222222222222e222222222222e2222e222222222e22222e2222222222222222
    2222e22222222222222e2222222e222222e222222222e222e22222222e22222e2222222e2222e222e2222222222222222222222222222e222222222222e2222e222222222e22222e2222222222222222
    2222e22222222222222e2222222e222222e222222222e222e22222222e22222e222222222222e222e2222222222222222222222222222e222222222222e2222e222222222e22222e2222222222222222
    2222e22222222222222e2222222e2222222e2222e222e222e22222222e22222e222222222222e222e2222222222222222222222222222e222222222222e2222e222222222e22222e22222e22222222e2
    2222e22222222222222e2222222e2222222e2222e222e222e22222222e2222e2222222222222e222e2222222222222222222222222222e22222e222222e2222e222222222e22222e22222e22222222e2
    2222e222222222222222e222222e2222222e2222e222e222e22222222e2222e222222222222e2222e2222222222222222222222222222e22222e222222e2222e222222222e22222e22222e22222222e2
    2222e222222222222222e222222e2222222e2222e222e222222222222e2222e222222222222e2222e22222e22222222e2222222222222e22222e222222e2222e222222222e22222e2222e222222222e2
    2222e222222222222222e222222e222222222222e222e222222222222e2222e222222222222e2222e22222e22222222e2222222222222e2222e2222222e2222e222222222e22222e2222e222222222e2
    2222e222222222222222e222222e222222222222e222e222222222222e2222e222222222222e2222e22222e22222222e2222222222222e2222e2222222e2222e222222222e22222e2222e222222222e2
    2222e22222222222e222e222222e222222222222e222e222222222222e2222e222222222222e2222e2222e222222222e2222222222222e2222e2222222e2222e222222222e22222e2222e222222222e2
    2222222222222222e222e222222e222222222222e222e222222222222e2222e222222222222e2222e2222e222222222e2222222222222e2222e2222222e2222e222222222e22222e2222e222222222e2
    2222222222222222e222e222222e222222222222e222e222222222222e2222e222222222222e2222e2222e222222222e2222222222222e2222e2222222e2222e222222222e22222e2222e222222222e2
    2222222222222222e222e222222e222222222222e222e222222222222e2222e222222222222e2222e2222e222222222e2222222222222e2222e2222222e2222e22222e222e22222e2222e222222222e2
    2222222222222222e222e222222e222222222222e222e222222222222e2222e222222222222e2222e2222e222222222e2222222222222e2222e222222222222e22222e222e22222e2222e222222222e2
    2222222222222222e222e222222e222222222222e222e222222222222e2222e22222222222222222e2222e222222222e2222222222222e2222e222222222222e22222e222e22222e2222e222222222e2
    2222222222222222e222e222222e222222222222e222e222222222222e2222e22222222222222222e2222e222222222e2222222222222e2222e222222222222e22222e222e22222e2222e222222222e2
    22222222e2222222e2222222222e222222222222e222e222222222222e2222e22222222222222222e2222e222222222e2222222222222e2222e22222222222e222222e222e22222e2222e222222222e2
    22e22222e2222222e2222222222e222222222222e222e222222222222e2222e22222e22222222222e2222e222222222e2222222222222e2222e22222222222e222222e222e22222e2222e222222222e2
    22e22222e2222222e2222222222e22222222e222e222e22222e22222222222e22222e22222e22222e2222e222222222e2222222222222e2222e22222222222e222222e222e22222e2222e222222222e2
    22e22222e2222222e2222222222e22222222e222e222e22222e22222222222e22222e22222e22222e2222e222222222e2222222222222e2222e22222222222e222222e222e22222e2222e22222e222e2
    22e22222e2222222e2222222222e22222222e222e222222222e22222222222e22222e22222e22222e2222e222222222e2222222222222e2222e22222e22222e222222e222e2222222222e22222e222e2
    22e22222e2222222e222e222222e22222222e222e222222222e2222222222e222222e22222e22222e2222e222222222e222222222222222222e22222e22222e222222e222e2222222222e22222e222e2
    22e22222e2222222e222e222222e22222222e222e222222222e2222222222e222222e22222e22222e2222e22222e222e222222222222222222e22222e22222e222222e222e2222222222e22222e222e2
    22e22222e2222222e222e222222e22222222e222e222222222e2222222222e222222e22222e2222222222e22222e222e222222222222222222e22222e22222e222222e222e222222222e222222e222e2
    22e22222e2222222e222e222222e22222222e222e222222222e2222222222e222222e22222e2222222222e22222e222e22222222222222222e222222e22222e222222e222e222222222e222222e222e2
    22e22222e2222222e222e222222e22222222e222e222222222e2222222222e222222e22222e2222222222e22222e222e22222222222222222e222222e222222222222e222e222222222e222222e222e2
    22e22222e2222222e222e222222e22222222e222e222222222e2222222222e222222e22222e222222222e222222e222e22222222222222222e222222e222222222222e222e222222222e222222e222e2
    22e22222e2222222e22e2222222e22222222e22e2222222222e2222222222e222222e2222ee222222222e222222e222e22222222222222222e222222e22222222222e2222e222222222e222222e222e2
    22e22222e2222222222e2222222e22222222e22e2222222222e2222222222e222222e2222e2222222222e222222e222e22222222222222222e222222e22222222222e2222e222222222e222222e222e2
    22e22222e2222222222e2222222e22222222e22e2222222222e2222222222e222222e2222e2222222222e222222e222e22222222222222222e222222e2222e222222e2222e222222222e222222e222e2
    22e22222e2222222222e2222222e22222222e22e2222222222e22222222222222222e2222e2222222222e222222e222e22222222222222222e222222e2222e222222e2222e222222222e222222e222e2
    22e22222e222222222e22222222e22222222e22e2222222222e22222222222222222e2222e2222222222e222222e222e22222222222222222e222222e2222e222222e2222e222222222e222222e222e2
    22e22222e22222e222e22222222e22222222e22e2222222222e2222222222222222e2222e22222222222e222222e222e22222222222222222e222222e2222e222222e2222e2222222222222222e222e2
    22e22222e22222e222e22222222e22222222e22e2222222222e2222222222222222e2222e22222222222e222222e222e222222222222222222222222e2222e222222e2222e2222222222222222e222e2
    22e22222e22222e222e222e2222e22222222e22e2222222222e222222222e222222e2222e22222222222e222222e222e222222222222222222222222e2222e222222e2222e222222222222222e2222e2
    22e22222e22222e222e222e2222e22222222e22e2222222222e222222222e222222e2222e222222222222222222e222e22222222222222222222222e22222e222222e2222e222222222222222e2222e2
    22e22222e22222e222e222e2222e22222222e22e2222222222e222222222e222222e2222e222222222222222222e222e22222222222222222222222e22222e222222e2222e22222222e222222e2222e2
    22e22222e222222e22e222e2222e22222222e22e2222222222e222222222e222222e2222e22222222222222222e2222e2222222222222222e222222e22222e222222e2222e22222222e222222e2222e2
    22e22222e222222e2222222e222e22222222e22e2222222222e222222222e222222e2222e22222222222222222e2222e2222222222222222e222222e2222ee222222e2222e22222222e222222e2222e2
    22e22222e222222e2222222e222e22222222e22e2222222222e222222222e222222e2222e2222222222e222222e2222e2222222222222222e222222e2222e2222222e2222e22222222e222222e2222e2
    22e22222e222222e2222222e222e22222222e22e2222222222e222222222e222222e2222e2222222222e222222e2222e2222222222222222e222222e2222e2222222e2222e22222222e222222e2222e2
    22e22222e222222e2222222e222e22222222e22e2222222222e222222222e222222e2222e2222222222e222222e2222e2222222222222222e222222e2222e2222222e2222e22222222e222222e2222e2
    22e22222e222222e2222222e222e22222222e22e2222222222e222222222e222222e2222e2222222222e222222e2222e2222222222222222e222222e2222e2222222e2222e22222222e222222e2222e2
    22e22222e22222222222222e222e22222222e2222222222222e22222222ee222222e2222e2222222222e222222e2222e2222222222222222e222222e222e22222222e2222e22222222e222222e2222e2
    22222222e22222222222222e222e22222222e2222222222222e22222222e2222222e2222e2222222222e222222e2222e2222222222222222e222222e222e22222222e2222e22222222e222222e2222e2
    22222222e22222222222222e222e22222222e2222222222222e22222222e2222222e2222e2222222222e222222e2222e2222222222222222e222222e222e22222222e2222e2222222ee222222e2222e2
    22222222e2222222e222222e222e22222222e2222222222222e22222222e2222222e2222e2222222222e222222e2222e222222222222222ee222222e222e2222222222222e2222222e2222222e2222e2
    22222222e2222222e222222e222e2222222222222222222222e22222222e2222222e2222e2222222222e222222e2222e222222222222222e2222222e2222e22222222222222222222e2222222e2222e2
    22222222e2222222e222222e222e2222222222222222222222e2222222e22222222e2222e222222222ee222222e2222e222222222222222e2222222e2222e22222222222222222222e2222222e2222e2
    22222222e2222222e222222e222e2222222222222222222222e2222222e22222222e2222e222222222e2222222e2222e222222222222222e2222222e2222e22222222222222222222e2222222e2222e2
    22222222e2222222e222222e222e2222222222222222222222e2222222e22222222e2222e222222222e2222222e2222e222222222222222e2222222e2222e2222222222222222222e22222222e2222e2
    22222222e222222222222222222e2222222222222222222222e2222222e2222222222222e222222222e2222222e2222e22222222222222e22222222e2222e2222222222222222222e22222222e2222e2
    22222222e222222222222222222e2222222222222222222222e222222222222222222222e222222222e2222222e2222e22222222222222e22222222e2222e2222222222222222222e22222222e2222e2
    22222222e222222222222222222e2222222222222222222222e222222222222222222222e22222222e22222222e2222e22222222222222e22222222e2222e2222222222222222222e2222222222222e2
    22222222e222222222222222222e2222222222222222222222e222222222222222222222e22222222e22222222e2222e22222222222222e2222222222222e22222222222222222222222222222222222
    22222222e222222222222222222e2222222222222222222222e222222222222222222222e22222222e22222222e2222e2222222222222222222222222222222......222222222222222222222222222
    22222222e222222222222222222e2222222222222222222222e222222222222222222222e22222222e2222222222222e2222222222222......22222222222........222222222222........222222
    .2222222e222222222222222222e222222.......222222222e222222222222222222222e222222222.........2222222222222222...........222222..........222222222.............2222
    ...22222e222.....2222222222e2...............222222e22.....22222222222222e2222222.............2222222222222.............222....................................22
    ....2222e2.........22222222...................2222e2........222222222222e222222...............2222222222........................................................
    ................................................................................................................................................................
    `, SpriteKind.Player)
curtain.z = 3
curtain.top = 0
curtain.setFlag(SpriteFlag.RelativeToCamera, true)
king_claudius = sprites.create(img`
    . . . f f f . . f f f . . . . . 
    . . f 1 1 1 f f b b b f . . . . 
    . f 1 1 3 1 1 f b b b b f . . . 
    . f 1 3 3 3 1 b b b b b f . . . 
    . f 1 3 3 3 1 b b b b b f . . . 
    . f 1 3 3 1 1 1 1 1 b f . . . . 
    . f 1 3 1 1 1 1 1 1 1 1 f f . . 
    . f 1 1 1 1 1 1 1 f 1 1 1 1 f . 
    . . f f 1 1 1 1 1 1 1 1 1 1 c f 
    . . . f 1 1 1 1 1 1 1 1 1 1 f . 
    . . . . f 1 1 1 1 1 1 1 f f . . 
    . . . . . f 4 4 4 2 f f . . . . 
    . . . . . f 2 2 4 2 5 f . . . . 
    . . . . f 2 2 2 2 5 c f . . . . 
    . . . f 2 2 2 2 2 5 c f . . . . 
    . f f 2 2 2 2 2 5 c c f . . . . 
    f 2 2 2 2 2 2 2 5 c c f . . . . 
    . f f f f f f f f f f . . . . . 
    `, SpriteKind.Player)
sprites.setDataString(king_claudius, "facing", "right")
horatio = sprites.create(img`
    ......ff..fff...
    .....f11ff111f..
    ....f11bb11131f.
    ....f1b1111131f.
    ....ff11111111f.
    .fff111111111f..
    f3111f1111f11f..
    f111111111111f..
    .f11111111111f..
    ..fff111111eff..
    ....ff44444eeef.
    ...f9f4844424ef.
    ....f884e2444ef.
    ....f884e4444ef.
    ...f8449e4444ef.
    ....ff449e11e4f.
    .....f11f111ff..
    .....f11f11f....
    ......ff.ff.....
    `, SpriteKind.Player)
sprites.setDataString(horatio, "facing", "left")
hamlet = sprites.create(img`
    ......ff...ffff.
    .....fbbf.f1111f
    ....fbbbbf11331f
    ....fbbbbf13331f
    ....fb111113331f
    ..ff11111111331f
    .f11111f1111111f
    fc11111111111ff.
    .f11111111111f..
    ..ff111111111f..
    ....ffaccccaf...
    ....faaccccaf...
    ....facccccaf...
    ....facccccaf...
    ....facccccaf...
    ....faaaccaaf...
    ....faaa1aaaf...
    .....faaaaaf....
    .....fcbbbff....
    .....fccbbf.....
    ......f1f1f.....
    .......f.f......
    `, SpriteKind.Player)
sprites.setDataString(hamlet, "facing", "left")
fake_king_stabber = sprites.create(img`
    ...ff.......ff...
    ..f11f.....f11f..
    .f1111fffff1111f.
    f113311111113311f
    f133311111113331f
    f113311111113311f
    .f1111f111f1111f.
    ..fff1111111fff..
    ...fff11111fff...
    ..f78781318787f..
    .f7878666668787f.
    .f7878666668787f.
    ..f88f66666f88f..
    ..f1ff77777ff1f..
    ...f.f66666f.f...
    .....f1fff1f.....
    .....fef.fef.....
    ......f...f......
    `, SpriteKind.Player)
fake_queen = sprites.create(img`
    .......ff.ffff...
    ......f11f1111ff.
    .....f11b1133111f
    .....f1b11133331f
    .....f1111133331f
    .....fb111113331f
    .....ff111111311f
    .ffff1111111111f.
    f311112112111ff..
    f111111111111f...
    .fff11111111f....
    ....ffff225ff....
    ......f552222f...
    .....f2222525f...
    .....f222211f....
    .....f222211f....
    .....f222211f....
    .....f555511f....
    .....f222212f....
    ....f22222222f...
    ....f2222e2222f..
    ....f2222e22e2f..
    ....f2222222222f.
    ....f222e222e22f.
    ...f2222e2222e2f.
    ...f2222e22222ef.
    ...fe222e22222eef
    ..f2e22ee22222eef
    ..f2e22ee22222eef
    ..f2e22ee22222eef
    ...fffffffffffff.
    `, SpriteKind.Player)
let lucianus = sprites.create(img`
    . . f f f f f . f f . . . . . 
    . f 1 1 1 1 1 f b b f . . . . 
    f 1 1 3 3 3 1 b b b f . . . . 
    f 1 3 3 3 3 1 b b b f . . . . 
    f 1 3 3 3 1 1 1 1 1 1 f f . . 
    f 1 3 3 1 1 1 1 1 1 1 1 1 f . 
    f 1 1 1 1 1 1 f 1 1 1 1 1 c f 
    . f f f 1 1 1 1 1 1 1 1 1 f . 
    . . . f 1 1 1 1 1 e e e f . . 
    . . . . f 4 4 4 4 4 e f . . . 
    . . . f 4 4 2 2 4 4 4 2 f . . 
    . . . f 4 4 2 2 4 4 4 2 f . . 
    . . . f 4 4 4 1 4 4 4 f . . . 
    . . . f c c c c c c 5 f . . . 
    . . . . f e e f e e e f . . . 
    . . . . f 1 f . f 1 f . . . . 
    . . . . . f . . . f . . . . . 
    `, SpriteKind.Player)
fake_king = sprites.create(img`
    ...fff..fff.....
    ..f111ffbbbf....
    .f113515b5b5f...
    .f1335555555f...
    .f133111111f....
    .f1311111111ff..
    .f1111111f1111f.
    ..ff1111111111cf
    ...f1111111111f.
    ....f1111111ff..
    .....f8886ff....
    .....f66867f....
    ....f66667bf....
    ...f668667bf....
    ...f66167bbf....
    .ff666667bbf....
    f66666667bbf....
    .fffff1ff1f.....
    ......f..f......
    `, SpriteKind.Player)
polonius = sprites.create(img`
    .....fff.ffff..
    ....fbbbf1111f.
    ...fbbbb133331f
    ...fbbbb133331f
    ...fbbbb133331f
    ...fb111111331f
    ..f111f1111111f
    .fc1111111111f.
    ..f111111111f..
    ...ff1111111f..
    ....fc4ceeeef..
    ...fee4eecceef.
    .ffce4eeccceef.
    f1cce45eccceef.
    .ffce4eeccceef.
    ...fe45eeceeef.
    ...fe4eee1eeef.
    ....f8888888f..
    ....f88f888f...
    .....f1ff1f....
    ......f..f.....
    `, SpriteKind.Player)
rosencrantz = sprites.create(img`
    . . f f f f f f . . . . . . . 
    . f 1 1 1 1 b b f . . . . . . 
    f 1 3 3 3 1 b b b f . . . . . 
    f 1 3 3 1 1 1 1 1 f f . . . . 
    f 1 3 1 1 1 1 1 1 1 1 f f . . 
    f 1 1 1 1 1 1 1 f 1 1 1 1 f . 
    . f f 1 1 1 1 1 1 1 1 1 1 c f 
    . . f 1 1 1 1 1 1 1 1 1 1 f . 
    . . . f 8 1 1 1 1 1 1 f f . . 
    . . . f 7 8 4 8 4 8 4 f . . . 
    . . f 7 7 7 6 6 7 7 5 6 f . . 
    . . f 7 7 7 6 6 6 7 7 5 f . . 
    . . f 7 7 7 7 6 6 1 7 7 f . . 
    . . . f c c c c c c c f . . . 
    . . . . f c c f c c f . . . . 
    . . . . f 1 f f 1 f . . . . . 
    . . . . . f . . f . . . . . . 
    `, SpriteKind.Player)
guildenstern = sprites.create(img`
    .....fff........
    ....fbbbff......
    ...fbb1111f.....
    ...fbb13311f....
    ..f11113331f....
    .f11f111331f....
    f3111111111f....
    .f11111111cf....
    ..fc11111bbf....
    ..fbbcbcbcbf.ff.
    ...fcbbcbbfff11f
    ...feeeeeef..f1f
    ...fceebeef..f1f
    ...feeebeeffff1f
    ...fddd1dd1111f.
    ...fddddddffff..
    ....fbffbf......
    ....fcffcf......
    .....f..f.......
    `, SpriteKind.Player)
gertrude = sprites.create(img`
    . . . . f f f f f f . . . . . 
    . . . f b b b b b b f f f . . 
    . . f b b b b 1 1 1 1 1 1 f . 
    . . f b b b 1 1 3 3 3 3 1 1 f 
    . . f b b 1 1 3 3 3 3 3 3 1 f 
    . . f 4 b 1 3 3 3 3 3 3 3 1 f 
    . . f 5 4 1 3 3 3 3 3 3 3 1 f 
    . . f 1 1 1 1 1 3 3 3 1 1 1 f 
    . f 1 1 1 f 1 1 1 1 1 1 f f . 
    f 3 1 1 1 1 1 1 1 f f f . . . 
    . f 1 1 1 1 1 1 1 f . . . . . 
    . . f f f 4 a a 5 f . . . . . 
    . . . . f 6 5 5 a f . . . . . 
    . . . . f 6 5 a a a f . . . . 
    . . . . f 6 5 a a a f . . . . 
    . . . . f 6 5 a a a a f f . . 
    . . . . f 6 5 a a a a a a f . 
    . . . . . f f f f f f f f . . 
    `, SpriteKind.Player)
// fennel, columbine, mint, violets, daisy, rue, pansies, rosemary
ophelia = sprites.create(img`
    ...ffff.fff......
    ..f1111fbbbf.....
    .f113311bbbf.....
    .f13331111bf.....
    .f1333111111ff...
    .f1333111f1111f..
    .f133311111111cf.
    .f111111111111f..
    ..ffff111111ff...
    .....f1111ff.ff..
    .....f8888fffaaf.
    .....f66665f22af.
    .....f66668f2288f
    ....f666689ff788f
    ....f666689f777f.
    ....f666681ff7f..
    ...f6666681111f..
    ...f6666899fff...
    ...f6666899f.....
    ..f66666899f.....
    .f666666899f.....
    f666666689f......
    .fffffffff.......
    `, SpriteKind.Player)
spotlight = sprites.create(img`
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111
    `, SpriteKind.Player)
lantern.startLanternEffect(spotlight)
lantern.setLightBandWidth(40)
curtain_Up(true)
controller.moveSprite(spotlight)
scene.cameraFollowSprite(spotlight)
spotlight.setFlag(SpriteFlag.Invisible, true)
filltheaudience()
places_everyone()
king_claudius_goes_to_the_theatre()
the_play_is_going()
king_claudius_reacts_to_the_play()
